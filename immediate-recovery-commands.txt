IMMEDIATE CRICKET SCORER RECOVERY
Run these commands as root on your production server:

=== EMERGENCY RECOVERY (Run as root) ===

# 1. Stop any existing processes
pkill -f "node.*cricket" || true
pkill -f "pm2" || true

# 2. Navigate to app directory
cd /opt/cricket-scorer

# 3. Rebuild server
npx esbuild server/index.ts --bundle --platform=node --target=node20 --outfile=dist/index.js --packages=external --format=esm

# 4. Rebuild client to CORRECT location (server/public/ where Express expects it)
NODE_ENV=production npx vite build --outDir server/public --emptyOutDir

# 5. Verify builds exist
ls -la dist/index.js
ls -la server/public/index.html
ls -la server/public/assets/

# 6. Set permissions
chmod -R 755 server/public/
chmod -R 755 dist/

# 7. Start with PM2
cd /opt/cricket-scorer
pm2 start ecosystem.config.cjs
pm2 save

# 8. Restart nginx
systemctl restart nginx

# 9. Test
curl -I http://localhost:3000/
curl -I https://score.ramisetty.net/

=== WHAT THIS FIXES ===
- Builds static files to server/public/ where Express server expects them
- Ensures PM2 starts properly without missing user account
- Restores full Cricket Scorer functionality

The key fix is building to server/public/ instead of dist/public/